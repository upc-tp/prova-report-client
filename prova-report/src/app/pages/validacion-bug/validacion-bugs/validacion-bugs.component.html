<div>
    <div class="banner">
        <span>Validacion de Bugs</span>
      </div>
      <nz-modal [(nzVisible)]="isVisible" nzTitle="Validar Bugs" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()"
    [nzOkLoading]="isOkLoading">
    <form nz-form class="create-form" [formGroup]="validateForm">
      <div class="form-item my-2">
        Â¿Quieres validar este bug?
      </div>
      <div class="form-item">
        <button class="mt-2" nz-button nzBlock nzSize="large" nzType="primary" [nzLoading]="isOkLoading">
          Aceptar
        </button>
      </div>
    </form>
    <div *nzModalFooter></div>
  </nz-modal>
      <form [formGroup]="filterFormGroup">
        <div class="row d-flex">
          <div class="col-md-4">
            <span>Proyecto</span>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Seleccionar</mat-label>
              <mat-select
                formControlName="projects"
                (selectionChange)="updateFilter($event)"
              >
              <mat-option *ngFor="let pro of listProjects" [value]="pro.key">
                {{pro.value}}
              </mat-option>
              </mat-select>
              <mat-hint
                *ngIf="validaciones('projects')"
                class="form-text text-danger animate__animated animate__headShake"
                >Seleccione uno</mat-hint
              >
            </mat-form-field>
          </div>
    
          <div class="col-md-4">
              <span>Suite</span>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Seleccionar</mat-label>
              <mat-select
                formControlName="testSuite"
                (selectionChange)="updateFilter($event)"
              >
              <mat-option *ngFor="let tSuite of listTestSuite" [value]="tSuite.key">
                {{tSuite.value}}
              </mat-option>
              </mat-select>
              <mat-hint
                *ngIf="validaciones('testSuite')"
                class="form-text text-danger animate__animated animate__headShake"
                >Seleccione uno</mat-hint
              >
            </mat-form-field>
          </div>
          
          <div class="col-md-4">
            <span>Caso de Prueba</span>
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Seleccionar</mat-label>
            <mat-select
              formControlName="testCase"
              (selectionChange)="updateFilter($event)"
            >
            <mat-option *ngFor="let tCase of listTestCase" [value]="tCase.key">
              {{tCase.value}}
            </mat-option>
            </mat-select>
            <mat-hint
              *ngIf="validaciones('testCase')"
              class="form-text text-danger animate__animated animate__headShake"
              >Seleccione uno</mat-hint
            >
          </mat-form-field>
        </div>
          <div class="col-md-4">
            <button
              mat-flat-button
              color="primary"
              class="button-global ps-3 pe-3"
              style="margin-top: 0.5rem"
              (click)="search()"
            >
              <span
                class="iconify"
                data-icon="charm:paper-plane"
                style="color: white"
                data-width="24"
                data-height="24"
              ></span>
              <span>Aplicar Filtros</span>
            </button>
            <button
              mat-flat-button
              color="primary"
              class="button-global mx-5"
              style="margin-top: 0.5rem"
              (click)="send()"
            >
              <span
                class="iconify"
                data-icon="charm:paper-plane"
                style="color: white"
                data-width="24"
                data-height="24"
              ></span>
              <span>Enviar</span>
            </button>
          </div>
        </div>
      </form>
    <br>
  
      <span class="my-2">Manuel tienes {{setOfCheckedId.size}} bugs por validar</span>
      <div style="margin-top: 3rem;">
        <nz-table #rowSelectionTable #middleTable nzSize="middle" [nzData]="data" [nzFrontPagination]="false" [nzPageIndex]="page"
    [nzTotal]="count" (nzCurrentPageDataChange)="onCurrentPageDataChange($event)">
    <thead>
      <tr>
        <th
          [(nzChecked)] = "checked"
          [nzIndeterminate] = "indeterminate"
          (nzCheckedChange) = "onAllChecked($event)"
        ></th>
        <th>Defecto</th>
        <th>Prioridad</th>
        <th>Severidad</th>
        <th>StepsRepro</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of middleTable.data">
        <td [nzChecked]="setOfCheckedId.has(data.id)" (nzCheckedChange)="onItemChecked(data.id,$event)"></td>
        <td>{{ data.title }}</td>
        <td>{{ data.severity }}</td>
        <td>{{ data.priority }}</td>
        <td>{{ data.repro_steps }}</td>
      </tr>
    </tbody>
  </nz-table>
      </div>
</div>