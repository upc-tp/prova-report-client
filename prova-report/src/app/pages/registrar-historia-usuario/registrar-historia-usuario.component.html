<div class="backgroundContent">
    <div class="bannerUserStory">
        <button class="back-button" nz-button nzType="text" (click)="backUserStories()">
            <i nz-icon nzType="left" nzTheme="outline" (click)="backUserStories()"></i>
        </button>
        <div *ngIf="this.isUpdate">
            Actualización de Historia de Usuario
        </div>
        <div *ngIf="!this.isUpdate">
            Registro de Historia de Usuario
        </div>
    </div>
    <form [formGroup]="registerForm">

        <div class="row d-flex">
            <mat-form-field>
                <mat-label>Nombre</mat-label>
                <input matInput formControlName="name" type="input" placeholder="Nombre" />
                <mat-error *ngIf="registerForm.controls['name'].hasError('required')">
                    Ingrese un nombre
                </mat-error>
            </mat-form-field>
            <mat-form-field >
                <mat-label>Descripción</mat-label>
                <textarea class="descriptionField" matInput formControlName="description" type="input" placeholder="Descripción"></textarea>
                <mat-error *ngIf="registerForm.controls['description'].hasError('required')">
                    Ingrese una descripción
                </mat-error>
            </mat-form-field>
        </div>
        <div class="container-inputs">
            <label>Añada Criterios de aceptacion</label>
            <button class="details" nz-button nzType="primary" (click)="addCriteria()">
                <i nz-icon nzType="plus-circle" nzTheme="outline"></i>
            </button>
        </div>
        <div>
            <ng-container formArrayName="criterias">
                <ng-container *ngFor="let criteriaForm of criterias.controls; let i = index">
                    <div [formGroup]="criteriaForm" class="row d-flex">
                        <mat-form-field class="col-md-8">
                            <mat-label>Descripción del criterio</mat-label>
                            <textarea class="criteriaDescriptionField" matInput formControlName="description" type="input" id="criteria" ></textarea>
                            <mat-error  *ngIf="registerForm.controls['description'].hasError('required')">
                                Ingrese una descripción
                            </mat-error>
                        </mat-form-field>
                        <mat-icon style="cursor: pointer;" (click)="deleteCriteria(i)">delete_forever</mat-icon>

                    </div>
                </ng-container>
            </ng-container>

        </div>
        <button nz-button nzBlock nzSize="large" nzType="primary" (click)="registerUserStory()">
            Guardar
        </button>
    </form>
</div>